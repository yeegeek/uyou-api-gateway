# 自动生成的 APISIX 配置文件
# generated_at: Tue Jan 27 12:16:51 CST 2026

routes:
  - id: user_create
    name: user_create
    uri: /api/v1/users
    methods:
      - POST
    plugins:
      limit-req:
        rate: 5
        burst: 10
        key: remote_addr
        rejected_code: 429
      grpc-transcode:
        proto_id: "1"
        service: user.UserService
        method: Create
    upstream:
      nodes:
        user:50051: 1
      type: roundrobin
      scheme: grpc
  - id: user_get
    name: user_get
    uri: /api/v1/users/*
    methods:
      - GET
    plugins:
      grpc-transcode:
        proto_id: "1"
        service: user.UserService
        method: Get
    upstream:
      nodes:
        user:50051: 1
      type: roundrobin
      scheme: grpc
  - id: user_update
    name: user_update
    uri: /api/v1/users/*
    methods:
      - PUT
    plugins:
      grpc-transcode:
        proto_id: "1"
        service: user.UserService
        method: Update
    upstream:
      nodes:
        user:50051: 1
      type: roundrobin
      scheme: grpc
  - id: user_delete
    name: user_delete
    uri: /api/v1/users/*
    methods:
      - DELETE
    plugins:
      grpc-transcode:
        proto_id: "1"
        service: user.UserService
        method: Delete
    upstream:
      nodes:
        user:50051: 1
      type: roundrobin
      scheme: grpc
  - id: user_list
    name: user_list
    uri: /api/v1/users
    methods:
      - GET
    plugins:
      grpc-transcode:
        proto_id: "1"
        service: user.UserService
        method: List
    upstream:
      nodes:
        user:50051: 1
      type: roundrobin
      scheme: grpc
